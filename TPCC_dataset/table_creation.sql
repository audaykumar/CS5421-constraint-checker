CREATE TABLE Warehouse (
    W_ID INT PRIMARY KEY,
    W_NAME VARCHAR(30),
    W_STREET VARCHAR(30),
    W_CITY VARCHAR(30),
    W_STATE CHAR(30),
    W_ZIP CHAR(9),
    W_TAX DECIMAL(6,4),
    W_YTD VARCHAR(20)
);

CREATE TABLE District (
    D_W_ID INT,
    D_ID INT,
    D_NAME VARCHAR(30),
    D_STREET VARCHAR(30),
    D_CITY  VARCHAR(30),
    D_STATE  VARCHAR(30),
    D_ZIP  CHAR(9),
    D_TAX DECIMAL(6,4),
    D_YTD  DECIMAL(12,2),
    D_NEXT_O_ID INT,
    CONSTRAINT "foreign_key_district" FOREIGN KEY (D_W_ID) REFERENCES Warehouse(W_ID) ON UPDATE CASCADE ON DELETE CASCADE,
    CONSTRAINT "primary_key_district" PRIMARY KEY (D_W_ID, D_ID)
);

CREATE TABLE Customer (
    C_W_ID INT,
    C_D_ID INT,
    C_ID INT,
    C_NAME VARCHAR(30),
    C_CITY VARCHAR(20),
    C_STATE VARCHAR(20),
    C_ZIP CHAR(9),
    C_PHONE CHAR(16),
    C_SINCE VARCHAR(30),
    C_CREDIT CHAR(2),
    C_CREDIT_LIM VARCHAR(30),
    C_DISCOUNT DECIMAL(8,4),
    C_BALANCE DECIMAL(12,2),
    C_YTD_PAYMENT FLOAT,
    C_PAYMENT_CNT INT,
    C_DELIVERY_CNT INT,
    CONSTRAINT "foreign_key_customer" FOREIGN KEY (C_W_ID, C_D_ID) REFERENCES District(D_W_ID, D_ID) ON UPDATE CASCADE ON DELETE CASCADE,
    CONSTRAINT "primary_key_customer" PRIMARY KEY (C_W_ID, C_D_ID, C_ID)
);
CREATE TABLE Orders (
    O_W_ID INT,
    O_D_ID INT,
    O_C_ID INT,
	O_ID INT,
    O_CARRIER_ID INT,
    O_OL_CNT DECIMAL(4,2),
    O_ALL_LOCAL INT,
    O_ENTRY_D VARCHAR(30),
    CONSTRAINT "foreign_key_order" FOREIGN KEY (O_W_ID, O_D_ID, O_C_ID) REFERENCES Customer(C_W_ID, C_D_ID, C_ID) ON UPDATE CASCADE ON DELETE CASCADE,
    CONSTRAINT "primary_key_order" PRIMARY KEY (O_W_ID, O_D_ID, O_ID)
);
CREATE TABLE Item (
    I_ID INT PRIMARY KEY,
    I_NAME VARCHAR(40),
    I_PRICE INT
);

CREATE TABLE Stock (
    S_W_ID INT,
    S_I_ID INT,
    S_QUANTITY DECIMAL(4,0),
    S_YTD DECIMAL(8,2),
    S_ORDER_CNT INT,
    S_REMOTE_CNT INT,
    S_DATA VARCHAR(50),
    CONSTRAINT "foreign_key_stock_1" FOREIGN KEY (S_W_ID) REFERENCES Warehouse(W_ID) ON UPDATE CASCADE ON DELETE CASCADE,
    CONSTRAINT "foreign_key_stock_2" FOREIGN KEY (S_I_ID) REFERENCES Item(I_ID) ON UPDATE CASCADE ON DELETE CASCADE,
    CONSTRAINT "primary_key_stock" PRIMARY KEY (S_W_ID, S_I_ID)
);
